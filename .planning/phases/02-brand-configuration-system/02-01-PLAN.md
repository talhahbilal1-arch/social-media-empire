---
phase: 02-brand-configuration-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - requirements.txt
  - src/models/__init__.py
  - src/models/brand.py
autonomous: true

must_haves:
  truths:
    - "BrandConfig model validates colors as Color type (not raw strings)"
    - "BrandConfig model requires name, slug, colors, tts_voice, cta_text, cta_url fields"
    - "ColorPalette accepts hex codes, RGB, and named colors"
    - "pydantic-extra-types and pyyaml are installed dependencies"
  artifacts:
    - path: "src/models/brand.py"
      provides: "BrandConfig and ColorPalette Pydantic models"
      contains: "class BrandConfig"
      min_lines: 25
    - path: "requirements.txt"
      provides: "Updated dependencies"
      contains: "pydantic-extra-types"
  key_links:
    - from: "src/models/brand.py"
      to: "pydantic_extra_types.color"
      via: "Color import"
      pattern: "from pydantic_extra_types.color import Color"
---

<objective>
Create the BrandConfig Pydantic model with color validation and add required dependencies.

Purpose: Establish the type-safe schema for brand configurations that will validate YAML inputs in Plan 02.
Output: BrandConfig model with ColorPalette, ready for YAML loading.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-brand-configuration-system/02-RESEARCH.md
@requirements.txt
@src/models/__init__.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add PyYAML and pydantic-extra-types to requirements</name>
  <files>requirements.txt</files>
  <action>
Add these dependencies to requirements.txt:
- pyyaml==6.0.2 (YAML parsing, use safe_load only)
- pydantic-extra-types==2.10.6 (matches pydantic version, provides Color type)

Add under "# Configuration & Environment" section after existing pydantic entries.
Keep all existing dependencies unchanged.
  </action>
  <verify>
Run: `grep -E "pyyaml|pydantic-extra-types" requirements.txt`
Both packages should appear with exact versions.
  </verify>
  <done>requirements.txt contains pyyaml==6.0.2 and pydantic-extra-types==2.10.6</done>
</task>

<task type="auto">
  <name>Task 2: Create BrandConfig and ColorPalette Pydantic models</name>
  <files>src/models/brand.py, src/models/__init__.py</files>
  <action>
Create `src/models/brand.py` with:

1. **ColorPalette model:**
   - primary: Color (required)
   - secondary: Color (required)
   - accent: Color | None = None (optional)

2. **BrandConfig model:**
   - name: str (brand display name)
   - slug: str (URL-safe identifier, e.g., "menopause-planner")
   - colors: ColorPalette
   - tts_voice: str (Edge-TTS voice ID, e.g., "en-US-JennyNeural")
   - cta_text: str (call-to-action text)
   - cta_url: str (call-to-action URL)
   - description: str | None = None (optional brand description)
   - target_audience: str | None = None (optional audience info)

Use Pydantic Field() for descriptions. Set `model_config = ConfigDict(extra="ignore")` to allow future YAML fields without breaking.

Import Color from `pydantic_extra_types.color` (NOT pydantic.color - that's deprecated).

Update `src/models/__init__.py` to export BrandConfig, ColorPalette.
  </action>
  <verify>
Run: `python -c "from src.models.brand import BrandConfig, ColorPalette; from pydantic_extra_types.color import Color; c = ColorPalette(primary='#9CAF88', secondary='#D4A5A5'); print(c.primary.as_hex())"`
Should print: #9caf88 (lowercase normalized hex)
  </verify>
  <done>BrandConfig and ColorPalette models importable and Color validation works</done>
</task>

</tasks>

<verification>
1. Dependencies installed: `pip install -r requirements.txt` succeeds
2. Model imports work: `python -c "from src.models import BrandConfig, ColorPalette"`
3. Color validation: Create ColorPalette with hex codes, verify `.as_hex()` returns normalized values
4. Model validation: BrandConfig rejects missing required fields
</verification>

<success_criteria>
- requirements.txt has pyyaml==6.0.2 and pydantic-extra-types==2.10.6
- BrandConfig model exists with all required fields
- ColorPalette validates hex codes, RGB strings, and named colors
- Models are exported from src/models/__init__.py
</success_criteria>

<output>
After completion, create `.planning/phases/02-brand-configuration-system/02-01-SUMMARY.md`
</output>
